---
title: Expressions
weight: 3
---

# Operators

Operators in Cyrus work similarly to those in C. They are categorized by their functionality and precedence.
Operators are evaluated based on their precedence (priority) and associativity (left-to-right or right-to-left).

<br />

## Arithmetic Operators

Arithmetic operators perform mathematical calculations between numeric operands.

<Table>
  <TableHeader>
    <TableRow>
      <TableHead className="w-[100px]">Operator</TableHead>
      <TableHead>Meaning</TableHead>
      <TableHead>Example</TableHead>
      <TableHead className="text-right">Result</TableHead>
    </TableRow>
  </TableHeader>
  <TableBody>
    <TableRow>
      <TableCell className="font-medium">+</TableCell>
      <TableCell>Addition</TableCell>
      <TableCell>5 + 2</TableCell>
      <TableCell className="text-right">7</TableCell>
    </TableRow>
    <TableRow>
      <TableCell className="font-medium">-</TableCell>
      <TableCell>Subtraction</TableCell>
      <TableCell>5 - 2</TableCell>
      <TableCell className="text-right">3</TableCell>
    </TableRow>
    <TableRow>
      <TableCell className="font-medium">*</TableCell>
      <TableCell>Multiplication</TableCell>
      <TableCell>5 * 2</TableCell>
      <TableCell className="text-right">10</TableCell>
    </TableRow>
    <TableRow>
      <TableCell className="font-medium">/</TableCell>
      <TableCell>Division</TableCell>
      <TableCell>5 / 2</TableCell>
      <TableCell className="text-right">2</TableCell>
    </TableRow>
    <TableRow>
      <TableCell className="font-medium">%</TableCell>
      <TableCell>Modulo (Truncated)</TableCell>
      <TableCell>5 % 2</TableCell>
      <TableCell className="text-right">1</TableCell>
    </TableRow>
    <TableRow>
      <TableCell className="font-medium">|</TableCell>
      <TableCell>Bitwise OR (integers)</TableCell>
      <TableCell>6 | 3</TableCell>
      <TableCell className="text-right">7</TableCell>
    </TableRow>
    <TableRow>
      <TableCell className="font-medium">~</TableCell>
      <TableCell>Bitwise XOR (integers)</TableCell>
      <TableCell>6 ~ 3</TableCell>
      <TableCell className="text-right">5</TableCell>
    </TableRow>
    <TableRow>
      <TableCell className="font-medium">&</TableCell>
      <TableCell>Bitwise AND (integers)</TableCell>
      <TableCell>6 & 3</TableCell>
      <TableCell className="text-right">2</TableCell>
    </TableRow>
    <TableRow>
      <TableCell className="font-medium">
        <code>&~</code>
      </TableCell>
      <TableCell>Bitwise AND-NOT (integers)</TableCell>
      <TableCell>6 &~ 3</TableCell>
      <TableCell className="text-right">4</TableCell>
    </TableRow>
    <TableRow>
      <TableCell className="font-medium">&lt;&lt;</TableCell>
      <TableCell>Left Shift (integer &lt;&lt; non-negative integer)</TableCell>
      <TableCell>3 &lt;&lt; 2</TableCell>
      <TableCell className="text-right">12</TableCell>
    </TableRow>
    <TableRow>
      <TableCell className="font-medium">&gt;&gt;</TableCell>
      <TableCell>Right Shift (integer &gt;&gt; non-negative integer)</TableCell>
      <TableCell>12 &gt;&gt; 2</TableCell>
      <TableCell className="text-right">3</TableCell>
    </TableRow>
  </TableBody>
</Table>

<br />

## Comparison Operators

Comparison operators evaluate the relationship between two operands and return a **bool** result (true or false).

<Table>
  <TableHeader>
    <TableRow>
      <TableHead className="w-[100px]">Operator</TableHead>
      <TableHead>Meaning</TableHead>
      <TableHead>Example</TableHead>
      <TableHead className="text-right">Result</TableHead>
    </TableRow>
  </TableHeader>
  <TableBody>
    <TableRow>
      <TableCell className="font-medium">==</TableCell>
      <TableCell>Equal to</TableCell>
      <TableCell>5 == 5</TableCell>
      <TableCell className="text-right">true</TableCell>
    </TableRow>
    <TableRow>
      <TableCell className="font-medium">!=</TableCell>
      <TableCell>Not equal to</TableCell>
      <TableCell>5 != 3</TableCell>
      <TableCell className="text-right">true</TableCell>
    </TableRow>
    <TableRow>
      <TableCell className="font-medium">&lt;</TableCell>
      <TableCell>Less than</TableCell>
      <TableCell>3 &lt; 5</TableCell>
      <TableCell className="text-right">true</TableCell>
    </TableRow>
    <TableRow>
      <TableCell className="font-medium">&gt;</TableCell>
      <TableCell>Greater than</TableCell>
      <TableCell>7 &gt; 2</TableCell>
      <TableCell className="text-right">true</TableCell>
    </TableRow>
    <TableRow>
      <TableCell className="font-medium">&lt;=</TableCell>
      <TableCell>Less than or equal to</TableCell>
      <TableCell>3 &lt;= 3</TableCell>
      <TableCell className="text-right">true</TableCell>
    </TableRow>
    <TableRow>
      <TableCell className="font-medium">&gt;=</TableCell>
      <TableCell>Greater than or equal to</TableCell>
      <TableCell>5 &gt;= 2</TableCell>
      <TableCell className="text-right">true</TableCell>
    </TableRow>
  </TableBody>
</Table>

<br />

## Logical Operators

Logical operators are used to combine or invert boolean values. They always operate on true and false values and return a boolean result.

<Table>
  <TableHeader>
    <TableRow>
      <TableHead className="w-[100px]">Operator</TableHead>
      <TableHead>Meaning</TableHead>
      <TableHead>Example</TableHead>
      <TableHead className="text-right">Result</TableHead>
    </TableRow>
  </TableHeader>
  <TableBody>
    <TableRow>
      <TableCell className="font-medium">&amp;&amp;</TableCell>
      <TableCell>Logical AND</TableCell>
      <TableCell>true &amp;&amp; false</TableCell>
      <TableCell className="text-right">false</TableCell>
    </TableRow>
    <TableRow>
      <TableCell className="font-medium">||</TableCell>
      <TableCell>Logical OR</TableCell>
      <TableCell>true || false</TableCell>
      <TableCell className="text-right">true</TableCell>
    </TableRow>
    <TableRow>
      <TableCell className="font-medium">!</TableCell>
      <TableCell>Logical NOT</TableCell>
      <TableCell>!true</TableCell>
      <TableCell className="text-right">false</TableCell>
    </TableRow>
  </TableBody>
</Table>

<br />

## Assignment Operators

Assignment operators are used to assign values to variables.
The simplest form is **=**, but there are also compound assignments that perform an operation and assignment in one step.

<Table>
  <TableHeader>
    <TableRow>
      <TableHead className="w-[100px]">Operator</TableHead>
      <TableHead>Meaning</TableHead>
      <TableHead>Example</TableHead>
      <TableHead className="text-right">Result</TableHead>
    </TableRow>
  </TableHeader>
  <TableBody>
    <TableRow>
      <TableCell className="font-medium">=</TableCell>
      <TableCell>Assignment</TableCell>
      <TableCell>a = 10</TableCell>
      <TableCell className="text-right">a = 10</TableCell>
    </TableRow>
    <TableRow>
      <TableCell className="font-medium">+=</TableCell>
      <TableCell>Add and assign</TableCell>
      <TableCell>a += 5</TableCell>
      <TableCell className="text-right">a = a + 5</TableCell>
    </TableRow>
    <TableRow>
      <TableCell className="font-medium">-=</TableCell>
      <TableCell>Subtract and assign</TableCell>
      <TableCell>a -= 5</TableCell>
      <TableCell className="text-right">a = a - 5</TableCell>
    </TableRow>
    <TableRow>
      <TableCell className="font-medium">*=</TableCell>
      <TableCell>Multiply and assign</TableCell>
      <TableCell>a *= 5</TableCell>
      <TableCell className="text-right">a = a * 5</TableCell>
    </TableRow>
    <TableRow>
      <TableCell className="font-medium">/=</TableCell>
      <TableCell>Divide and assign</TableCell>
      <TableCell>a /= 5</TableCell>
      <TableCell className="text-right">a = a / 5</TableCell>
    </TableRow>
    <TableRow>
      <TableCell className="font-medium">%=</TableCell>
      <TableCell>Modulo and assign</TableCell>
      <TableCell>a %= 5</TableCell>
      <TableCell className="text-right">a = a % 5</TableCell>
    </TableRow>
    <TableRow>
      <TableCell className="font-medium">&=</TableCell>
      <TableCell>Bitwise AND and assign</TableCell>
      <TableCell>a &= 5</TableCell>
      <TableCell className="text-right">a = a & 5</TableCell>
    </TableRow>
    <TableRow>
      <TableCell className="font-medium">~=</TableCell>
      <TableCell>Bitwise XOR and assign</TableCell>
      <TableCell>a ~= 5</TableCell>
      <TableCell className="text-right">a = a ~ 5</TableCell>
    </TableRow>
    <TableRow>
      <TableCell className="font-medium">{"&~="}</TableCell>
      <TableCell>Bitwise AND NOT and assign</TableCell>
      <TableCell>{"a &~= 5"}</TableCell>
      <TableCell className="text-right">a = a &~ 5</TableCell>
    </TableRow>
    <TableRow>
      <TableCell className="font-medium">{"<<="}</TableCell>
      <TableCell>Left shift and assign</TableCell>
      <TableCell>{"a <<= 2"}</TableCell>
      <TableCell className="text-right">{"a = a << 2"}</TableCell>
    </TableRow>
    <TableRow>
      <TableCell className="font-medium">>>=</TableCell>
      <TableCell>Right shift and assign</TableCell>
      <TableCell>a >>= 2</TableCell>
      <TableCell className="text-right">a = a >> 2</TableCell>
    </TableRow>
  </TableBody>
</Table>

<br />

## Operator Precedence & Associativity

Associativity determines how operators of the same precedence are grouped: left-to-right or right-to-left.
Parentheses () can be used to explicitly control evaluation order.

<Table>
  <TableHeader>
    <TableRow>
      <TableHead>Operator / Type</TableHead>
      <TableHead>Description</TableHead>
      <TableHead style={{ textAlign: "right" }}>
        Precedence / Associativity
      </TableHead>
    </TableRow>
  </TableHeader>
  <TableBody>
    <TableRow>
      <TableCell>Lowest</TableCell>
      <TableCell>
        Represents the lowest precedence. Used internally as a default when no
        other precedence applies.
      </TableCell>
      <TableCell style={{ textAlign: "right" }}>Lowest</TableCell>
    </TableRow>
    <TableRow>
      <TableCell>sizeof</TableCell>
      <TableCell>Returns the size of a type or expression in bytes.</TableCell>
      <TableCell style={{ textAlign: "right" }}>High / Right-to-left</TableCell>
    </TableRow>
    <TableRow>
      <TableCell>||</TableCell>
      <TableCell>
        Logical OR. Returns true if at least one operand is true.
      </TableCell>
      <TableCell style={{ textAlign: "right" }}>Low / Left-to-right</TableCell>
    </TableRow>
    <TableRow>
      <TableCell>&amp;&amp;</TableCell>
      <TableCell>
        Logical AND. Returns true only if both operands are true.
      </TableCell>
      <TableCell style={{ textAlign: "right" }}>Low / Left-to-right</TableCell>
    </TableRow>
    <TableRow>
      <TableCell>==, !=</TableCell>
      <TableCell>Equality and inequality comparison operators.</TableCell>
      <TableCell style={{ textAlign: "right" }}>
        Low-Mid / Left-to-right
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>&gt;, &lt;, &gt;=, &lt;=</TableCell>
      <TableCell>Relational operators to compare values.</TableCell>
      <TableCell style={{ textAlign: "right" }}>Mid / Left-to-right</TableCell>
    </TableRow>
    <TableRow>
      <TableCell>+, -</TableCell>
      <TableCell>Addition and subtraction operators.</TableCell>
      <TableCell style={{ textAlign: "right" }}>
        Mid-High / Left-to-right
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>*, /, %</TableCell>
      <TableCell>Multiplication, division, and modulo operators.</TableCell>
      <TableCell style={{ textAlign: "right" }}>High / Left-to-right</TableCell>
    </TableRow>
    <TableRow>
      <TableCell>&amp;, |, ~, &amp;~</TableCell>
      <TableCell>Bitwise AND, OR, NOT, and custom combination (~&).</TableCell>
      <TableCell style={{ textAlign: "right" }}>High / Left-to-right</TableCell>
    </TableRow>
    <TableRow>
      <TableCell>-X, !X</TableCell>
      <TableCell>Unary prefix operators: negation and logical NOT.</TableCell>
      <TableCell style={{ textAlign: "right" }}>High / Right-to-left</TableCell>
    </TableRow>
    <TableRow>
      <TableCell>&amp;</TableCell>
      <TableCell>
        Address-of operator. Returns the memory address of its operand.
      </TableCell>
      <TableCell style={{ textAlign: "right" }}>
        Lower than member access / Right-to-left
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>*</TableCell>
      <TableCell>
        Dereference operator. Accesses the value pointed to by a pointer.
      </TableCell>
      <TableCell style={{ textAlign: "right" }}>
        Higher than member access / Right-to-left
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>my_function(x)</TableCell>
      <TableCell>
        Function call. Evaluates arguments and calls the function.
      </TableCell>
      <TableCell style={{ textAlign: "right" }}>
        Very High / Left-to-right
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>array[index]</TableCell>
      <TableCell>
        Array indexing. Access the element at a specific position.
      </TableCell>
      <TableCell style={{ textAlign: "right" }}>
        Very High / Left-to-right
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>Type conversion (cast)</TableCell>
      <TableCell>Explicitly converts a value to a different type.</TableCell>
      <TableCell style={{ textAlign: "right" }}>High / Right-to-left</TableCell>
    </TableRow>
    <TableRow>
      <TableCell>.</TableCell>
      <TableCell>
        Member access. Accesses a field of a struct or object.
      </TableCell>
      <TableCell style={{ textAlign: "right" }}>High / Left-to-right</TableCell>
    </TableRow>
    <TableRow>
      <TableCell>-&gt;</TableCell>
      <TableCell>
        Pointer member access. Dereferences a pointer to access a field of a
        struct or object.
      </TableCell>
      <TableCell style={{ textAlign: "right" }}>High / Left-to-right</TableCell>
    </TableRow>
  </TableBody>
</Table>

<br />

## Unary Operators

Unary operators operate on a single operand and modify its value by **1**.  
**Prefix** (`++i`, `--i`) updates the variable **before** it’s used in an expression.  
**Postfix** (`i++`, `i--`) updates the variable **after** it’s used in an expression.

<Table>

<TableHeader>
  <TableRow>
    <TableHead className="w-[140px]">Operator</TableHead>
    <TableHead>Meaning</TableHead>
    <TableHead>Example</TableHead>
    <TableHead className="text-right">Result</TableHead>
  </TableRow>
</TableHeader>

<br />

<TableBody>
  <TableRow>
    <TableCell className="font-medium">i++</TableCell>
    <TableCell>
      Post-increment: returns current value, then increases by 1
    </TableCell>
    <TableCell>i = 5; j = i++</TableCell>
    <TableCell className="text-right">i = 6, j = 5</TableCell>
  </TableRow>
  <TableRow>
    <TableCell className="font-medium">++i</TableCell>
    <TableCell>
      Pre-increment: increases by 1, then returns the new value
    </TableCell>
    <TableCell>i = 5; j = ++i</TableCell>
    <TableCell className="text-right">i = 6, j = 6</TableCell>
  </TableRow>
  <TableRow>
    <TableCell className="font-medium">i--</TableCell>
    <TableCell>
      Post-decrement: returns current value, then decreases by 1
    </TableCell>
    <TableCell>i = 5; j = i--</TableCell>
    <TableCell className="text-right">i = 4, j = 5</TableCell>
  </TableRow>
  <TableRow>
    <TableCell className="font-medium">--i</TableCell>
    <TableCell>
      Pre-decrement: decreases by 1, then returns the new value
    </TableCell>
    <TableCell>i = 5; j = --i</TableCell>
    <TableCell className="text-right">i = 4, j = 4</TableCell>
  </TableRow>
</TableBody>

</Table>

Notes:

> - Works only on mutable lvalues; using on constants or rvalues should be a compile error.
> - Avoid relying on multiple increments of the same variable within a single expression if your language disallows/diagnoses unspecified order of evaluation.

<br />

## Null-Coalescing Operator

The null-coalescing operator (||) is used with pointers to select the first non-null value from a chain of operands.  
It evaluates operands from left to right and returns the first pointer that is not null.  
If all operands are null, the result is null.

```cyrus
#p1: int* = null;
#p2: int* = &x;
#p3: int* = &y;

#result1 = p1 || p2;        // returns p2
#result2 = p1 || null;      // returns null
#result3 = p1 || p2 || p3;  // returns p2 (first non-null)
```
